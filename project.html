<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>天気情報</title>
  <script>
    function getWeatherInfo(cityId) {
      const CityURL = `https://www.nishita-lab.org/web-contents/jsons/openweather/${cityId}.json`;

      fetch(CityURL)
        .then(response => response.json())
        .then(data => {
          // 取得したデータから必要な情報を取り出す
          const cityName = data.name;
          const weatherDescription = data.weather[0].description;
          const currentTemp = data.main.temp;
          const minTemp = data.main.temp_min;
          const maxTemp = data.main.temp_max;
          const humidity = data.main.humidity;
          const windSpeed = data.wind.speed;
          const windDeg = data.wind.deg;

          // 取得した情報をHTMLに表示する
          document.getElementById('city').textContent = cityName;
          document.getElementById('description').textContent = weatherDescription;
          document.getElementById('currentTemp').textContent = `${currentTemp}°C`;
          document.getElementById('minTemp').textContent = `Min Temp: ${minTemp}°C`;
          document.getElementById('maxTemp').textContent = `Max Temp: ${maxTemp}°C`;
          document.getElementById('humidity').textContent = `Humidity: ${humidity}%`;
          document.getElementById('windSpeed').textContent = `Wind Speed: ${windSpeed} m/s`;
          document.getElementById('windDeg').textContent = `Wind Direction: ${windDeg}°`;
        })
        .catch(error => console.error('Error fetching weather data:', error));
    }

    document.addEventListener('DOMContentLoaded', function () {
      const radios = document.querySelectorAll('input[name="city"]');
      radios.forEach(radio => {
        radio.addEventListener('change', function () {
          if (this.checked) {
            getWeatherInfo(this.value);
          }
        });
      });
    });
  </script>
</head>
<body>
  <h1>天気情報</h1>
  <form action="">
    <input type="radio" name="city" value="360630">Cairo カイロ （エジプト）<br>
    <input type="radio" name="city" value="524901">Moscow モスクワ （ロシア）<br>
    <input type="radio" name="city" value="993800">Johannesburg ヨハネスブルク （南アフリカ）<br>
    <!-- 他の都市のラジオボタンをここに追加 -->

  </form>

  <h2 id="city"></h2>
  <p id="description"></p>
  <p id="currentTemp"></p>
  <p id="minTemp"></p>
  <p id="maxTemp"></p>
  <p id="humidity"></p>
  <p id="windSpeed"></p>
  <p id="windDeg"></p>
</body>
</html>
